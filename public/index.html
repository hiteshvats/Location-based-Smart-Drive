<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Project Name</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            background-color: #f4f4f4;
        }

        header {
            margin: 20px 0;
            font-size: 24px;
            font-weight: bold;
        }

        #dropBox {
            width: 300px;
            height: 200px;
            border: 2px dashed #ccc;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            margin: 20px;
            position: relative;
            overflow: hidden;
            border-radius: 10px;
        }

        #dropBox img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: none;
        }

        #getLocationBtn,
        #uploadBtn {
            padding: 10px;
            margin: 10px;
            cursor: pointer;
            font-size: 16px;
            border: none;
            background-color: #4caf50;
            color: white;
            border-radius: 5px;
            transition: background-color 0.3s ease;
        }

        #getLocationBtn:hover,
        #uploadBtn:hover {
            background-color: #45a049;
        }

        footer {
            margin-top: auto;
            text-align: center;
            padding: 10px;
            background-color: #333;
            color: white;
            position: fixed;
            bottom: 0;
            width: 100%;
        }
    </style>
</head>

<body>
    <header>Your Project Name</header>

    <div id="dropBox">
        <input type="file" id="imageInput" style="display: none;" accept="image/*">
        <label for="imageInput">
            <img id="previewImage" alt="Drag & Drop or Click to Upload">
            <div>Drag & Drop or Click to Upload</div>
        </label>
    </div>

    <button id="getLocationBtn">Get Location</button>
    <button id="uploadBtn">Upload</button>

    <footer>Designed by Hitesh & Umesh</footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const getLocationBtn = document.getElementById('getLocationBtn');
            const imageInput = document.getElementById('imageInput');
            const uploadBtn = document.getElementById('uploadBtn');
            const dropBox = document.getElementById('dropBox');
            const previewImage = document.getElementById('previewImage');

            let currentCity = ''; // Store the current city for image upload

            getLocationBtn.addEventListener('click', () => {
                getLocationAndSetCity();
            });

            uploadBtn.addEventListener('click', () => {
                if (!currentCity) {
                    alert('Please get location first.');
                    return;
                }
                uploadImage();
            });

            dropBox.addEventListener('dragover', (e) => {
                e.preventDefault();
                dropBox.style.border = '2px solid #4caf50';
            });

            dropBox.addEventListener('dragleave', () => {
                dropBox.style.border = '2px dashed #ccc';
            });

            dropBox.addEventListener('drop', (e) => {
                e.preventDefault();
                dropBox.style.border = '2px dashed #ccc';
                handleDrop(e.dataTransfer.files);
            });

            imageInput.addEventListener('change', (e) => {
                handleDrop(e.target.files);
            });

            function getLocationAndSetCity() {
                if ('geolocation' in navigator) {
                    navigator.geolocation.getCurrentPosition(
                        position => {
                            const { latitude, longitude } = position.coords;
                            reverseGeocode(latitude, longitude);
                        },
                        error => {
                            console.error('Error getting geolocation:', error);
                        }
                    );
                } else {
                    console.error('Geolocation is not supported by this browser');
                }
            }

            function reverseGeocode(latitude, longitude) {
                // Perform reverse geocoding to get the city name based on the coordinates.
                // For simplicity, we'll use a placeholder "City".
                const city = 'City';
                currentCity = city;
                alert(`Location set to: ${city}`);
            }

            function uploadImage() {
                const file = imageInput.files[0];
                if (!file) {
                    alert('Please select an image to upload.');
                    return;
                }

                const formData = new FormData();
                formData.append('image', file);

                // Simulate image upload - you can replace this with your actual upload logic
                setTimeout(() => {
                    alert('Image uploaded successfully!');
                    // Reset the UI after successful upload
                    imageInput.value = null;
                    previewImage.style.display = 'none';
                }, 2000);
            }

            function handleDrop(files) {
                const file = files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function (e) {
                        previewImage.src = e.target.result;
                        previewImage.style.display = 'block';
                    };
                    reader.readAsDataURL(file);
                }
            }
        });
    </script>
</body>

</html>
